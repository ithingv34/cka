(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{364:function(t,e,o){t.exports=o.p+"assets/img/1-8.e344b06f.png"},365:function(t,e,o){t.exports=o.p+"assets/img/1-9.89a3cce4.png"},381:function(t,e,o){"use strict";o.r(e);var n=o(44),r=Object(n.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"클러스터-고가용성-ha-관리"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#클러스터-고가용성-ha-관리"}},[t._v("#")]),t._v(" 클러스터 고가용성(HA) 관리")]),t._v(" "),n("p",[n("strong",[t._v("단일 클러스터 설치의 한계")])]),t._v(" "),n("ul",[n("li",[t._v("프로덕션 레벨에서는 단일 클러스터 보다는 여러개의 클러스터를 설치하는 것이 일반적이다.")]),t._v(" "),n("li",[t._v("만약 "),n("code",[t._v("Control Plane")]),t._v(" 노드에 장애가 발생하면\n"),n("code",[t._v("kubectl")]),t._v("로 API에 연결할 수 없어 외부에서 클러스터에 액세스 할 수 없게된다.")]),t._v(" "),n("li",[t._v("또한 "),n("code",[t._v("Worker")]),t._v(" 노드에서 실행 중인 ReplicaSet은 Control Plane에서 실행 중인 스케줄러와 대화할 수 없기 때문에 Pod를 재생성 할 수 없다.")])]),t._v(" "),n("hr"),t._v(" "),n("p",[n("strong",[t._v("예시")])]),t._v(" "),n("p",[n("strong",[t._v("1. 3개의 Control Plane 노드가 있는 Stack 형 Etcd 토폴로지")])]),t._v(" "),n("img",{attrs:{src:o(364)}}),t._v(" "),n("ul",[n("li",[t._v("etcd가 노드에 함께 배치된 3개의 Control Plane 노드가 생성된다.")]),t._v(" "),n("li",[t._v("각 Control Plane 노드는 API 서버, 스케줄러 및 컨트롤러 관리자를 호스팅한다.")]),t._v(" "),n("li",[t._v("Worker 노드는 로드 밸런서를 통해 API 서버와 통신한다.")]),t._v(" "),n("li",[t._v("Control Plane에 대한 "),n("strong",[t._v("긴밀한 결합")]),t._v("으로 인한 중복성을 위해 최소 "),n("code",[t._v("3")]),t._v("개의 Control Plane 노드로 클러스터를 구성하는 것이 좋다.")]),t._v(" "),n("li",[t._v("기본적으로 "),n("code",[t._v("kubeadm")]),t._v(" Control Plane 노드를 클러스터에 연결할 때 etcd 인스턴스를 생성한다.")])]),t._v(" "),n("hr"),t._v(" "),n("p",[n("strong",[t._v("2. 외부 etcd 노드 토폴로지")])]),t._v(" "),n("img",{attrs:{src:o(365)}}),t._v(" "),n("br"),t._v(" "),n("ul",[n("li",[t._v("1번 토폴로지와 달리 etcd를 Control Plane에서 분리하는 토폴로지이다.")]),t._v(" "),n("li",[t._v("etcd 인스턴스가 별도의 호스트에서 실행된다는 것이 차이점이다.")]),t._v(" "),n("li",[t._v("이 토폴로지의 경우 etcd를 다른 Control Plane 기능에서 분리하기 때문에 Control Plane가 손실될 때 중복성이 미치는 영향이 적다.")]),t._v(" "),n("li",[t._v("하지만 이 토폴로지는 위의 토폴로지보다 두 배 많은 호스트가 필요하기 때문에 관리 복잡도가 증가한다.")])]),t._v(" "),n("hr"),t._v(" "),n("p",[n("strong",[t._v("참고자료")])]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/ha-topology/",target:"_blank",rel:"noopener noreferrer"}},[t._v("고가용성 클러스터 토폴로지 구성하기"),n("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=r.exports}}]);